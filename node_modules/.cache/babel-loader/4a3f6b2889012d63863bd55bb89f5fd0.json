{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/Jeilani/Desktop/Software Engineering/CityFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{generateId}from\"../../../helperfunctions\";import{useDispatch,useSelector}from\"react-redux\";import{addMessage,deleteQuestion,setQuestion}from\"../../../actions\";import\"../../../CSS/QuestionsPopUp.css\";import ConfirmationScreen from\"./ConfirmationScreen\";import WarningMessage from\"../../WarningMessage.js\";var automatedResponse=[\"I can definitely help you\",\"I would love to talk about this\",\"I can answer this question for you\"];var QuestionsPopUp=function QuestionsPopUp(_ref){var setQuestionPopUp=_ref.setQuestionPopUp;var dispatch=useDispatch();var chosenQuestion=useSelector(function(state){return state.chosenQuestion;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),confirmationScreenShowing=_useState4[0],setConfirmationScreenShowing=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),userTextShowing=_useState6[0],setUserTextShowing=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),responseTooShort=_useState8[0],setResponseTooShort=_useState8[1];var responses=automatedResponse.map(function(str,i){return/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return handleResponseClick(i);},className:\"automatedResponse\",children:str},str);});var handleExitClick=function handleExitClick(){setQuestionPopUp(false);dispatch(setQuestion(null));};var renderTooShortOfAResponseMessage=function renderTooShortOfAResponseMessage(){if(responseTooShort)return/*#__PURE__*/_jsx(WarningMessage,{message:\"You have to type more than that!\"});};//thisfunction prevents the exit of the popup when it's clicked so it calls a stop propagatino\nvar handlePopUpClick=function handlePopUpClick(e){e.stopPropagation();};var handleResponseClick=function handleResponseClick(num){setResponse(automatedResponse[num]);};var handleInputChange=function handleInputChange(e){setResponse(e.target.value);};var handleQuestionPopUpSubmit=function handleQuestionPopUpSubmit(event){event.preventDefault();if(response.length<2){setResponseTooShort(true);setTimeout(function(){setResponseTooShort(false);},1500);}else{setUserTextShowing(true);var message={userID:chosenQuestion.userId,userName:\"\".concat(chosenQuestion.firstName,\" \").concat(chosenQuestion.lastName),messageId:generateId(),userImage:chosenQuestion.profileImg,threadId:generateId(),messages:[{content:response}]};setTimeout(function(){setConfirmationScreenShowing(true);dispatch(addMessage(message));dispatch(deleteQuestion(chosenQuestion));},1000);}};var renderUserText=function renderUserText(){if(userTextShowing)return/*#__PURE__*/_jsx(\"p\",{className:\"myText\",children:response});else return null;};if(!confirmationScreenShowing){return/*#__PURE__*/_jsxs(\"div\",{className:\"questionsPopUpContainer\",onClick:handleExitClick,children:[renderTooShortOfAResponseMessage(),/*#__PURE__*/_jsx(\"div\",{className:\"questionsPopUp\",onClick:handlePopUpClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"questionsContentContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"firstHalf\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"headshot questionsPopUpHeadshot\",src:chosenQuestion.profileImg,alt:\"headshot\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[chosenQuestion.firstName,\" \",chosenQuestion.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"userText\",children:chosenQuestion.title}),renderUserText()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"secondHalf\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You can choose one of our automated responses to get the chat going or type your own\"}),/*#__PURE__*/_jsx(\"div\",{className:\"automatedResponsesContainer\",children:responses}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleQuestionPopUpSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:response,onChange:handleInputChange,placeholder:\"...type your response here and press enter when you're ready to send\"}),/*#__PURE__*/_jsx(\"button\",{className:\"questionSubmitButton\",type:\"submit\",onClick:handleQuestionPopUpSubmit,children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-paper-plane\"})})]})]})]})})]});}else return/*#__PURE__*/_jsx(ConfirmationScreen,{setQuestionPopUp:setQuestionPopUp});};export default QuestionsPopUp;","map":{"version":3,"sources":["/Users/Jeilani/Desktop/Software Engineering/CityFinder/client/src/Components/DashboardComponents/QuestionsComponents/QuestionsPopUp.js"],"names":["React","useState","generateId","useDispatch","useSelector","addMessage","deleteQuestion","setQuestion","ConfirmationScreen","WarningMessage","automatedResponse","QuestionsPopUp","setQuestionPopUp","dispatch","chosenQuestion","state","response","setResponse","confirmationScreenShowing","setConfirmationScreenShowing","userTextShowing","setUserTextShowing","responseTooShort","setResponseTooShort","responses","map","str","i","handleResponseClick","handleExitClick","renderTooShortOfAResponseMessage","handlePopUpClick","e","stopPropagation","num","handleInputChange","target","value","handleQuestionPopUpSubmit","event","preventDefault","length","setTimeout","message","userID","userId","userName","firstName","lastName","messageId","userImage","profileImg","threadId","messages","content","renderUserText","title"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\nimport {generateId} from \"../../../helperfunctions\"\nimport {useDispatch, useSelector} from \"react-redux\"\nimport {addMessage, deleteQuestion, setQuestion} from \"../../../actions\"\nimport \"../../../CSS/QuestionsPopUp.css\"\nimport ConfirmationScreen from \"./ConfirmationScreen\"\nimport WarningMessage from \"../../WarningMessage.js\"\n\nconst automatedResponse = [\"I can definitely help you\", \"I would love to talk about this\", \"I can answer this question for you\"]\n\n\nconst QuestionsPopUp = ({setQuestionPopUp}) => {\n    const dispatch = useDispatch()\n    const chosenQuestion = useSelector(state=>state.chosenQuestion)\n    const [response, setResponse] = useState(\"\")\n    const [confirmationScreenShowing, setConfirmationScreenShowing] = useState(false)\n    const [userTextShowing, setUserTextShowing] = useState(false)\n    const [responseTooShort, setResponseTooShort] = useState(false)\n\n    const responses = automatedResponse.map((str, i) =><span key = {str} onClick={()=>handleResponseClick(i)} className=\"automatedResponse\">{str}</span>)\n    const handleExitClick = () => {\n        setQuestionPopUp(false)\n        dispatch(setQuestion(null))\n    }\n    const renderTooShortOfAResponseMessage = () => {\n        if (responseTooShort) return <WarningMessage message=\"You have to type more than that!\"/>\n    }\n    //thisfunction prevents the exit of the popup when it's clicked so it calls a stop propagatino\n    const handlePopUpClick = (e) => {\n        e.stopPropagation()\n    }\n\n    const handleResponseClick = num => {\n        setResponse(automatedResponse[num])\n    }\n\n\n    const handleInputChange = e => {\n       setResponse(e.target.value)\n    }\n\n    const handleQuestionPopUpSubmit = (event) => {\n        event.preventDefault()\n        if (response.length < 2) {\n            setResponseTooShort(true)\n            setTimeout(()=>{\n                setResponseTooShort(false)\n            }, 1500)\n        }\n        else {\n            setUserTextShowing(true)\n\n            let message = {\n                userID: chosenQuestion.userId,\n                userName: `${chosenQuestion.firstName} ${chosenQuestion.lastName}`,\n                messageId: generateId(),\n                userImage: chosenQuestion.profileImg,\n                threadId: generateId(),\n                messages: [{content: response}]\n            }\n\n            setTimeout(()=>{\n                setConfirmationScreenShowing(true)\n                dispatch(addMessage(message))\n                dispatch(deleteQuestion(chosenQuestion))\n            }, 1000)\n        }\n    }\n\n    const renderUserText = () => {\n        if (userTextShowing) return <p className=\"myText\">{response}</p>\n        else return null\n    }\n\n    if (!confirmationScreenShowing){\n    return (\n        <div className=\"questionsPopUpContainer\" onClick={handleExitClick}>\n            {renderTooShortOfAResponseMessage()}\n            <div className=\"questionsPopUp\" onClick={handlePopUpClick}>\n                <div className=\"questionsContentContainer\">\n                    <div className=\"firstHalf\">\n                        <img className=\"headshot questionsPopUpHeadshot\"   src={chosenQuestion.profileImg} alt=\"headshot\"/>\n                        <div className=\"name\">{chosenQuestion.firstName} {chosenQuestion.lastName}</div>\n                        <p className=\"userText\">{chosenQuestion.title}</p>\n                        {renderUserText()}\n                    </div>\n                    <div className=\"secondHalf\">\n                        <p>You can choose one of our automated responses to get the chat going or type your own</p>\n                        <div className=\"automatedResponsesContainer\">\n                            {responses}\n                        </div>\n                        <form onSubmit={handleQuestionPopUpSubmit}>\n                            <input value={response}onChange={handleInputChange} placeholder=\"...type your response here and press enter when you're ready to send\"></input>\n                            <button className=\"questionSubmitButton\" type=\"submit\" onClick={handleQuestionPopUpSubmit}><i className=\"far fa-paper-plane\"></i></button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n    } else return <ConfirmationScreen setQuestionPopUp={setQuestionPopUp} />\n}\n\nexport default QuestionsPopUp"]},"metadata":{},"sourceType":"module"}