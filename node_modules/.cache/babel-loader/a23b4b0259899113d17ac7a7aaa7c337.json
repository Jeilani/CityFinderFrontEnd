{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/Jeilani/Desktop/Software Engineering/CityFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Jeilani/Desktop/Software Engineering/CityFinder/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import\"../../../CSS/Search.css\";import usePlacesAutocomplete,{getGeocode,getLatLng}from\"use-places-autocomplete\";import{Combobox,ComboboxInput,ComboboxPopover,ComboboxList,ComboboxOption}from\"@reach/combobox\";import\"@reach/combobox/styles.css\";function Search(_ref){var panTo=_ref.panTo;var _usePlacesAutocomplet=usePlacesAutocomplete({requestOptions:{location:{lat:function lat(){return 39.7392;},lng:function lng(){return 104.9903;}},radius:200*1000}}),ready=_usePlacesAutocomplet.ready,value=_usePlacesAutocomplet.value,_usePlacesAutocomplet2=_usePlacesAutocomplet.suggestions,status=_usePlacesAutocomplet2.status,data=_usePlacesAutocomplet2.data,setValue=_usePlacesAutocomplet.setValue,clearSuggestions=_usePlacesAutocomplet.clearSuggestions;return/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsxs(Combobox,{className:\"ComboboxContainer\",onSelect:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(address){var results,latlng,lat,lng;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setValue(address,false);clearSuggestions();_context.prev=2;_context.next=5;return getGeocode({address:address});case 5:results=_context.sent;console.log(\"results after select is \",results);_context.next=9;return getLatLng(results[0]);case 9:latlng=_context.sent;lat=latlng.lat,lng=latlng.lng;panTo({lat:lat,lng:lng});_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);console.log(\"error\");case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsx(ComboboxInput,{value:value,onChange:function onChange(e){setValue(e.target.value);},disabled:!ready,placeholder:\"Search a city/area\"}),/*#__PURE__*/_jsx(ComboboxPopover,{children:/*#__PURE__*/_jsx(ComboboxList,{classNamme:\"comboboxlist\",children:status===\"OK\"&&data.map(function(_ref3){var id=_ref3.id,description=_ref3.description;return/*#__PURE__*/_jsx(ComboboxOption,{value:description},id);})})})]})});}export default Search;","map":{"version":3,"sources":["/Users/Jeilani/Desktop/Software Engineering/CityFinder/client/src/Components/DashboardComponents/BrowseAreaSub/Search.js"],"names":["React","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","Search","panTo","requestOptions","location","lat","lng","radius","ready","value","suggestions","status","data","setValue","clearSuggestions","address","results","console","log","latlng","e","target","map","id","description"],"mappings":"6bAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,yBAAP,CAEA,MAAOC,CAAAA,qBAAP,EACIC,UADJ,CAEIC,SAFJ,KAGO,yBAHP,CAKA,OACIC,QADJ,CAEIC,aAFJ,CAGIC,eAHJ,CAIIC,YAJJ,CAKIC,cALJ,KAMO,iBANP,CAQA,MAAO,4BAAP,CAEA,QAASC,CAAAA,MAAT,MAAwB,IAAPC,CAAAA,KAAO,MAAPA,KAAO,2BAC2DT,qBAAqB,CAAC,CACnGU,cAAc,CAAE,CACdC,QAAQ,CAAE,CAACC,GAAG,CAAE,qBAAM,QAAN,EAAN,CAAqBC,GAAG,CAAE,qBAAM,SAAN,EAA1B,CADI,CAEdC,MAAM,CAAE,IAAM,IAFA,CADmF,CAAD,CADhF,CACbC,KADa,uBACbA,KADa,CACNC,KADM,uBACNA,KADM,8CACCC,WADD,CACcC,MADd,wBACcA,MADd,CACsBC,IADtB,wBACsBA,IADtB,CAC6BC,QAD7B,uBAC6BA,QAD7B,CACuCC,gBADvC,uBACuCA,gBADvC,CAQpB,mBACI,YAAK,SAAS,CAAC,QAAf,uBAEI,MAAC,QAAD,EACA,SAAS,CAAC,mBADV,CAEC,QAAQ,2FAAI,iBAAMC,OAAN,6IACTF,QAAQ,CAACE,OAAD,CAAU,KAAV,CAAR,CACAD,gBAAgB,GAFP,sCAIiBpB,CAAAA,UAAU,CAAE,CAAEqB,OAAO,CAAPA,OAAF,CAAF,CAJ3B,QAICC,OAJD,eAKLC,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCF,OAAxC,EALK,sBAMgBrB,CAAAA,SAAS,CAACqB,OAAO,CAAC,CAAD,CAAR,CANzB,QAMCG,MAND,eAOEd,GAPF,CAOcc,MAPd,CAOEd,GAPF,CAOOC,GAPP,CAOca,MAPd,CAOOb,GAPP,CAQLJ,KAAK,CAAC,CAACG,GAAG,CAAHA,GAAD,CAAMC,GAAG,CAAHA,GAAN,CAAD,CAAL,CARK,iFAULW,OAAO,CAACC,GAAR,CAAY,OAAZ,EAVK,qEAAJ,+DAFT,wBAgBI,KAAC,aAAD,EACA,KAAK,CAAET,KADP,CAEA,QAAQ,CAAE,kBAAAW,CAAC,CAAE,CACbP,QAAQ,CAACO,CAAC,CAACC,MAAF,CAASZ,KAAV,CAAR,CACC,CAJD,CAKA,QAAQ,CAAE,CAACD,KALX,CAMA,WAAW,CAAE,oBANb,EAhBJ,cAwBI,KAAC,eAAD,wBACI,KAAC,YAAD,EAAc,UAAU,CAAC,cAAzB,UACCG,MAAM,GAAK,IAAX,EAAmBC,IAAI,CAACU,GAAL,CAAS,eAAqB,IAAnBC,CAAAA,EAAmB,OAAnBA,EAAmB,CAAfC,WAAe,OAAfA,WAAe,CAC9C,mBAAO,KAAC,cAAD,EAAyB,KAAK,CAAEA,WAAhC,EAAqBD,EAArB,CAAP,CACH,CAFmB,CADpB,EADJ,EAxBJ,GAFJ,EADJ,CAqCD,CACD,cAAetB,CAAAA,MAAf","sourcesContent":["import React from \"react\"\n\nimport \"../../../CSS/Search.css\"\n\nimport usePlacesAutocomplete, {\n    getGeocode,\n    getLatLng,\n} from \"use-places-autocomplete\";\n\nimport {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption,\n} from \"@reach/combobox\"\n\nimport \"@reach/combobox/styles.css\"\n\nfunction Search({panTo}){\n    const {ready, value, suggestions:{status, data}, setValue, clearSuggestions} = usePlacesAutocomplete({\n      requestOptions: {\n        location: {lat: () => 39.7392, lng: () => 104.9903 },\n        radius: 200 * 1000\n      }\n    })\n\n    return (\n        <div className=\"search\">\n\n            <Combobox\n            className=\"ComboboxContainer\"\n             onSelect = {async(address) => {\n                setValue(address, false)\n                clearSuggestions()\n                try {\n                    const results = await getGeocode( { address } )\n                    console.log(\"results after select is \", results)\n                    const latlng = await getLatLng(results[0])\n                    const {lat, lng} = latlng\n                    panTo({lat, lng})\n                } catch (error) {\n                    console.log(\"error\")\n                }\n\n            }}>\n                <ComboboxInput\n                value={value}\n                onChange={e=>{\n                setValue(e.target.value)\n                }}\n                disabled={!ready}\n                placeholder={\"Search a city/area\"}\n                />\n                <ComboboxPopover>\n                    <ComboboxList classNamme=\"comboboxlist\">\n                    {status === \"OK\" && data.map(({id, description})=>{\n                        return <ComboboxOption key={id} value={description}/>\n                    })}\n                    </ComboboxList>\n                </ComboboxPopover>\n            </Combobox>\n        </div>\n    )\n  }\n  export default Search\n"]},"metadata":{},"sourceType":"module"}